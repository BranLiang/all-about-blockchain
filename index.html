<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
  <title>Big</title>
  <link href='big.css' rel='stylesheet' type='text/css' />
  <link href='highlight.css' rel='stylesheet' type='text/css' />
  <style>
    .new-shiny { background: #aaaaaa; }
  </style>
  <script src='big.js'></script>
  <script src='highlight.js'></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class='dark'>
  <div>Blockchain?</div>
  <div>
    <ul>
      <li>Brief Introduction</li>
      <li>Demo Display</li>
      <li>Real world</li>
    </ul>
  </div>
  <div><em>Blockchain</em>: Ordered back-linked list</div>
  <div>
    <pre>
      <code>
        type Blockchain struct {
          blocks []*Block
        }
      </code>
    </pre>
  </div>
  <div><em>Block</em>: Stores transactions and linked to previews block</div>
  <div>
    <pre>
      <code>
        type Block struct {
          Transactions  []*Transaction
          PrevBlockHash []byte
        }
      </code>
    </pre>
  </div>
  <div><em>Proof-Of-Work</em>: Find a hash for new block so it can be created</div>
  <div>
    <pre>
      <code>
        type Block struct {
          Transactions  []*Transaction
          PrevBlockHash []byte
          Hash          []byte
          Nonce         int
        }
      </code>
    </pre>
  </div>
  <div>
    <pre>
      <code>
        func runProofOfWork(block, target) (int, []byte) {
          nounce := 0
          for {
            Hash = HashFromBlockAndNouce(block, nounce)
            if Hash < target {
              break
            } else {
              nouce++
            }
          }
        }
      </code>
    </pre>
  </div>
  <div><em>Transaction</em>: Combination of inputs and outputs</div>
  <div>
    <pre>
      <code>
        type Transaction struct {
          ID   []byte
          Vin  []TXInput
          Vout []TXOutput
        }
      </code>
    </pre>
  </div>
  <div>
    <pre>
      <code>
        type TXOutput struct {
          value        int
          ScriptPubKey string
        }

        type TXInput struct {
          Txid      []byte
          Vout      int
          ScriptSig string
        }
      </code>
    </pre>
  </div>
  <div>Unspent Transaction Outputs(UTXO): Where your <em>COINs</em> stays</div>
  <div><em>Wallet</em>: PrivateKey + PublicKey</div>
  <div>
    <pre>
      <code>
        type Wallet struct {
          PrivateKey ecdsa.PrivateKey
          PublicKey  []byte
        }
      </code>
    </pre>
  </div>
  <div>PrivateKey is used for <em>signing</em> transaction and PublicKey is used to <em>verify</em> transaction</div>
  <div>First we need a <em>wallet</em></div>
  <div>
    <pre>
      <code>
        $ brancoin createWallet
        Your new address: 1MNPDSUr3YPNt35hCmpXbwxcukPd9Chjjy
      </code>
    </pre>
  </div>
  <div>Internally you create <em>PublicKey</em> and <em>PrivateKey</em>, and stored it in a local file wallet_300X.dat</div>
  <div>
    <pre>
      <code>
        map[string]*Wallet{
          "1MNPDSUr3YPNt35hCmpXbwxcukPd9Chjjy": &Wallet{
            PrivateKey: "accb4c9d7d4e883051e...",
            PublicKey: "dcecab0be55135df..."
          }
        }
      </code>
    </pre>
  </div>
  <div>
    <pre>
      <code>
        $ brancoin printWallets
        --- Wallet 1MNPDSUr3YPNt35hCmpXbwxcukPd9Chjjy:
               PrivateKey:  accb4c9d7d4e...
               PublicKey: dcecab0be55...
        --- Wallet 16SUZuXC4CvTjXMMnd3JYTXFJQJp7ckMUQ:
               PrivateKey:  96faf90c54e...
               PublicKey: 55e1bec7b98...

      </code>
    </pre>
  </div>
  <div>Let's create our first <em>blockchain</em></div>
  <div>
    <pre>
      <code>
        $ brancoin createBlockchain 1JbEcaQoX52MsacPJmFZcs5xkNfrFQrqax
        b26975db665935e8d9bed8be7c23dac4c0b21e5278aa7115920bd10574e9c3b1

        Done!
      </code>
    </pre>
  </div>
  <div>What <em>happened</em> just now?</div>
  <div>1. NewCoinbaseTX(address, genesisCoinbaseData)</div>
  <div>2. NewGenesisBlock(cbtx)</div>
  <div>3. Store the block to the blockchain</div>
  <div>Additionally Reindex the <em>UTXOs</em> -> Store the unspend transaction outputs. (Introduced 2012 for Bitcoin)</div>
  <div>
    <pre>
      <code>
        $ brancoin printChain
      </code>
    </pre>
  </div>
  <div>How many <em>coins</em> do I have now?</div>
  <div>
    <pre>
      <code>
        $ brancoin getBalance 1JbEcaQoX52MsacPJmFZcs5xkNfrFQrqax
      </code>
    </pre>
  </div>
  <div>Accumulate UTXOs from the UTXOSet, and <em>sum</em> the value</div>
</body>
</html>
